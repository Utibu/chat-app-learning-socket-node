{"version":3,"sources":["components/Chat/Chat.js","components/Join/Join.js","components/InfoBar/InfoBar.js","components/Input/Input.js","components/Message/Message.js","components/Messages/Messages.js","components/TextContainer/TextContainer.js","App.js","index.js","icons/onlineIcon.png","icons/closeIcon.png"],"names":["socket","Join","useState","name","setName","room","setRoom","className","placeholder","type","onChange","event","target","value","onClick","preventDefault","to","InfoBar","src","onlineIcon","alt","href","closeIcon","Input","message","setMessage","sendMessage","onKeyPress","key","Message","user","text","isSentByCurrentUser","trimmedName","trim","toLowerCase","ReactEmoji","emojify","Messages","messages","map","i","TextContainer","users","role","aria-label","Chat","location","setMessages","setUsers","ENDPOINT","useEffect","queryString","parse","search","io","emit","off","on","msgs","console","log","App","path","exact","component","ReactDOM","render","document","querySelector","module","exports"],"mappings":"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","file":"static/js/main.f7cfe1b0.chunk.js","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport queryString from \"query-string\"\nimport io from \"socket.io-client\"\n\nimport \"./Chat.css\"\n\nimport InfoBar from \"../InfoBar/InfoBar\"\nimport Input from \"../Input/Input\"\nimport Messages from \"../Messages/Messages\"\nimport TextContainer from \"../TextContainer/TextContainer\"\n\nlet socket\n\n\nconst Chat = ({location}) => {\n    const [name, setName] = useState(\"\")\n    const [room, setRoom] = useState(\"\")\n    const [message, setMessage] = useState(\"\")\n    const [messages, setMessages] = useState([])\n    const [users, setUsers] = useState([])\n    const ENDPOINT = \"https://react-node-chat-learning.herokuapp.com/\"\n\n    useEffect(() => {\n        const { name, room } = queryString.parse(location.search)\n\n        socket = io(ENDPOINT)\n\n        setName(name)\n        setRoom(room)\n\n        socket.emit(\"join\", { name, room }, () => {\n\n        })\n\n        return () => {\n            socket.emit(\"diconnect\")\n            socket.off()\n        }\n    }, [ENDPOINT, location.search])\n\n    useEffect(() => {\n        socket.on(\"message\", (message) => {\n            setMessages(msgs => [...msgs, message])\n        })\n\n        socket.on(\"roomData\", (user) => {\n            setUsers(user.users)\n        })\n    }, [])\n\n    const sendMessage = (event) => {\n        event.preventDefault()\n\n        if(message) {\n            socket.emit(\"sendMessage\", message, () => setMessage(\"\"))\n        }\n    }\n\n    console.log(message, messages)\n    console.log(\"Users: \", users)\n\n    return (\n        <div className=\"outerContainer\">\n            <div className=\"container\">\n                {/*<input \n                value={message} \n                onChange={(event) => setMessage(event.target.value)} \n                onKeyPress={event => event.key === \"Enter\" ? sendMessage(event) : null}\n                />*/}\n                <InfoBar room={room} />\n                <Messages messages={messages} name={name} />\n                <Input message={message} setMessage={setMessage} sendMessage={sendMessage} />\n            </div>\n            <TextContainer users={users} />\n        </div>\n    )\n}\n\nexport default Chat","import React, {useState} from \"react\"\nimport {Link} from \"react-router-dom\"\n\nimport \"./Join.css\"\n\nconst Join = () => {\n    const [name, setName] = useState(\"\")\n    const [room, setRoom] = useState(\"\")\n\n    return (\n        <div className=\"joinOuterContainer\">\n            <div className=\"joinInnerContainer\">\n                <h1 className=\"heading\">Join</h1>\n                <div><input placeholder=\"Name\" className=\"joinInput\" type=\"text\" onChange={(event) => setName(event.target.value)} /></div>\n                <div><input placeholder=\"Room\" className=\"joinInput mt-20\" type=\"text\" onChange={(event) => setRoom(event.target.value)} /></div>\n                <Link onClick={event => (!name || !room) ? event.preventDefault() : null} to={`/chat?name=${name}&room=${room}`}>\n                    <button className=\"button mt-20\" type=\"submit\">Sign in</button>\n                </Link>\n            </div>\n        </div>\n    )\n}\n\nexport default Join","import React from \"react\"\nimport \"./InfoBar.css\"\n\nimport onlineIcon from \"../../icons/onlineIcon.png\"\nimport closeIcon from \"../../icons/closeIcon.png\"\n\nconst InfoBar = ({room}) => {\n    return (\n        <div className=\"infoBar\">\n            <div className=\"leftInnerContainer\">\n                <img className=\"onlineIcon\" src={onlineIcon} alt=\"Online\" />\n                <h3>{room}</h3>\n            </div>\n            <div className=\"rightInnerContainer\">\n                <a href=\"/\"><img src={closeIcon} alt=\"Close\" /></a>\n            </div>\n        </div>\n    )\n}\n\nexport default InfoBar","import React from \"react\"\n\nimport \"./Input.css\"\n\nconst Input = ({message, setMessage, sendMessage}) => {\n    return (\n        <form className=\"form\">\n            <input \n            className=\"input\"\n            type=\"text\"\n            placeholder=\"Type a message...\"\n            value={message} \n            onChange={(event) => setMessage(event.target.value)} \n            onKeyPress={event => event.key === \"Enter\" ? sendMessage(event) : null}\n            />\n            <button className=\"sendButton\" onClick={(event) => sendMessage(event)}>Send</button>\n        </form>\n        \n    )\n}\n\nexport default Input","import React from \"react\"\nimport \"./Message.css\"\n\nimport ReactEmoji from \"react-emoji\"\n\nconst Message = ({message: {user, text}, name}) => {\n    let isSentByCurrentUser = false\n\n    const trimmedName = name.trim().toLowerCase()\n\n    if(user === trimmedName) {\n        isSentByCurrentUser = true\n    }\n\n    return (\n        isSentByCurrentUser\n        ? (\n            <div className=\"messageContainer justifyEnd\">\n                <p className=\"sentText pr-10\">{trimmedName}</p>\n                <div className=\"messageBox backgroundBlue\">\n                    <p className=\"messageText\">{ReactEmoji.emojify(text)}\n                    </p>\n                </div>\n            </div>\n        )\n        : (\n            <div className=\"messageContainer justifyStart\">\n                <div className=\"messageBox backgroundLight\">\n                    <p className=\"messageText colorDark\">{ReactEmoji.emojify(text)}\n                    </p>\n                </div>\n                <p className=\"sentText pl-10\">{user}</p>\n            </div>\n        )\n    )\n}\n\nexport default Message","import React from \"react\"\nimport ScrollToBottom from \"react-scroll-to-bottom\"\n\nimport Message from \"../Message/Message\"\n\nimport \"./Messages.css\"\n\n\nconst Messages = ({messages, name}) => {\n    return (\n        <ScrollToBottom className=\"messages\">\n            {messages.map((message, i) => <div key={i}><Message message={message} name={name} /></div>)}\n        </ScrollToBottom>\n    )\n}\n\nexport default Messages","import React from \"react\"\n\nimport onlineIcon from '../../icons/onlineIcon.png';\n\nimport \"./TextContainer.css\"\n\nconst TextContainer = ({ users }) => (\n    <div className=\"textContainer\">\n      <div>\n        <h1>Realtime Chat Application <span role=\"img\" aria-label=\"emoji\">üí¨</span></h1>\n        <h2>Created with React, Express, Node and Socket.IO <span role=\"img\" aria-label=\"emoji\">‚ù§Ô∏è</span></h2>\n        <h2>Try it out right now! <span role=\"img\" aria-label=\"emoji\">‚¨ÖÔ∏è</span></h2>\n      </div>\n      {\n        users\n          ? (\n            <div>\n              <h1>People currently chatting:</h1>\n              <div className=\"activeContainer\">\n                <h2>\n                  {users.map(({name}) => (\n                    <div key={name} className=\"activeItem\">\n                      {name}\n                      <img alt=\"Online Icon\" src={onlineIcon}/>\n                    </div>\n                  ))}\n                </h2>\n              </div>\n            </div>\n          )\n          : null\n      }\n    </div>\n  );\n\nexport default TextContainer","import React from \"react\"\nimport { BrowserRouter as Router, Route } from \"react-router-dom\"\n\nimport Join from \"./components/Join/Join\"\nimport Chat from \"./components/Chat/Chat\"\n\nconst App = () => {\n    return(\n        <Router>\n            <Route path=\"/\" exact component={Join} />\n            <Route path=\"/chat\" component={Chat} />\n        </Router>\n    )\n}\n\nexport default App","import React from \"react\"\nimport ReactDOM from \"react-dom\"\n\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.querySelector(\"#root\"))","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\""],"sourceRoot":""}